<div>
    <h1><span class="glyphicon glyphicon-search" aria-hidden="true"></span> Search for recipes</h1>

    <div class="row padding-right-lg padding-left-lg">
        <div class="col-xs-12 well">
            <div class="input-group input-group-lg">
                <input type="text" class="form-control" placeholder="Search recipes by name, ingredients and author"
                       ng-model="query">

                <div class="input-group-btn">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                            aria-expanded="false">
                        Elements per page: {{size}} <span class="caret"></span></button>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="" ng-click="size = 5">5</a></li>
                        <li><a href="" ng-click="size = 10">10</a></li>
                        <li><a href="" ng-click="size = 20">20</a></li>
                        <li><a href="" ng-click="size = 50">50</a></li>
                    </ul>
                </div>

                <div class="input-group-btn">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                            aria-expanded="false">
                        {{sort}} <span class="caret"></span></button>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="" ng-click="sort = 'Newest'">Newest</a></li>
                        <li><a href="" ng-click="sort = 'Alphabetical'">Alphabetical</a></li>
                        <li><a href="" ng-click="sort = 'Most popular'">Most popular</a>
                        </li>
                    </ul>
                    <button class="btn btn-default" type="button" ng-click="searchRecipes(query)">Search</button>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
            <p class="text-center" ng-show="totalPagesCollection.length == 0">No recipes found</p>

            <div class="text-center">
                <nav ng-show="totalPagesCollection.length > 0">
                    <ul class="pagination pagination-lg">
                        <li>
                            <a href="" aria-label="Previous" ng-click="searchRecipes(query, currentPage - 1)">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li ng-repeat="page in totalPagesCollection track by $index">
                            <a href="" ng-click="searchRecipes(query, $index + 1)">{{$index + 1}}</a>
                        </li>
                        <li>
                            <a href="" aria-label="Next" ng-click="searchRecipes(query, currentPage + 1)">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>

            <div>
                <ul class="media-list">
                    <li ng-repeat="recipe in recipes" class="panel panel-default">
                            <div class="panel-heading">
                                <a href="" ng-href="#/recipes/{{recipe.id}}"><h2>{{recipe.title}}</h2></a>
                            </div>
                            <div class="panel-body media" style="margin-left: 50px !important;">
                                <div class="media-left ">
                                    <a href="" ng-href="#/recipes/{{recipe.id}}">
                                        <img class="media-object" ng-src="{{recipe.photoUrl | defaultImageFilter}}" alt="Image">
                                    </a>
                                </div>
                                <div class="padding-left-lg media-body">
                                    <dl class="dl-horizontal">
                                        <dt>Date added</dt>
                                        <dd>{{recipe.dateAdded | date:'dd-MM-yyyy'}}</dd>
                                        <dt>Last modification</dt>
                                        <dd>{{recipe.lastEdited | date:'dd-MM-yyyy HH:mm:ss'}}</dd>
                                        <dt>Likes</dt>
                                        <dd>{{recipe.numberOfLikes}}</dd>
                                        <address>
                                            <dt>Username</dt>
                                            <dd><a href="" ng-href="#/users/{{recipe.userId}}">{{recipe.userName}}</a></dd>
                                            <dt>Email</dt>
                                            <dd><a href="" ng-click="sendEmail(recipe.userEmail)">{{recipe.userEmail}}</a></a></dd>
                                        </address>
                                    </dl>
                                </div>
                            </div>
                    </li>
                </ul>
            </div>


            <div class="text-center">
                <nav ng-show="totalPagesCollection.length > 0">
                    <ul class="pagination pagination-lg">
                        <li>
                            <a href="" aria-label="Previous" ng-click="searchRecipes(query, currentPage - 1)">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li ng-repeat="page in totalPagesCollection track by $index">
                            <a href="" ng-click="searchRecipes(query, $index + 1)">{{$index + 1}}</a>
                        </li>
                        <li>
                            <a href="" aria-label="Next" ng-click="searchRecipes(query, currentPage + 1)">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>